<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Coffee Shop</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <link rel="stylesheet" href="./style/jayagiriCoffee.css">

  <script>
    function addToFavorites() {
      alert("Coffee shop ini telah ditambahkan ke daftar favorit Anda!");
    }
  </script>
</head>
<body>

  <!-- Carousel Gambar -->
  <div id="carouselExample" class="carousel slide" data-bs-ride="carousel">
    <div class="carousel-inner">
      <div class="carousel-item active">
        <img src="./assets/img/AlasCoffee/AlasCoffee1.jpg" class="d-block w-100" alt="...">
      </div>
      <div class="carousel-item">
        <img src="./assets/img/AlasCoffee/AlasCoffee2.jpg" class="d-block w-100" alt="...">
      </div>
      <div class="carousel-item">
        <img src="./assets/img/AlasCoffee/AlasCoffee3.jpg" class="d-block w-100" alt="...">
      </div>
      <div class="carousel-item">
        <img src="./assets/img/AlasCoffee/AlasCoffee4.jpg" class="d-block w-100" alt="...">
      </div>
      <div class="carousel-item">
        <img src="./assets/img/AlasCoffee/AlasCoffee5.jpg" class="d-block w-100" alt="...">
      </div>
      <div class="carousel-item">
        <img src="./assets/img/AlasCoffee/AlasCoffee6.jpg" class="d-block w-100" alt="...">
      </div>
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExample" data-bs-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselExample" data-bs-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Next</span>
    </button>
  </div>

  <div class="container mt-4">
    <div class="row">
   
      <div class="col-md-4 mb-3">
        <div class="card p-3 shadow-sm">
          <h3><i class="fas fa-clock"></i> Jam Operasional</h3>
          <p><strong>Setiap Hari:</strong> 17.00 - 05.00 WITA</p>
          <p id="pesanOperasional"></p>
        </div>
      </div>

      <div class="col-md-4 mb-3">
        <div class="card p-3 shadow-sm">
          <h3><i class="fa-solid fa-globe"></i></i> Fasilitas</h3>
          <ul class="list-unstyled">
            <li><i class="fas fa-wifi"></i> WiFi Gratis</li>
            <li><i class="fa-solid fa-toilet"></i> Toilet yang Nyaman</li>
            <li><i class="fas fa-parking"></i> Parkir Luas</li>
          </ul>
        </div>
      </div>

      <div class="col-md-4 mb-3">
        <div class="card p-3 shadow-sm">
          <h3><i class="fa-solid fa-mug-hot"></i></i> Menu</h3>
          <p>Nikmati Hidangan Mulai dari <strong>Rp10.000</strong></p>
        </div>
      </div>
    </div>

    <div class="mb-4">
      <h3><i class="fas fa-map-marker-alt"></i> Peta Lokasi</h3>
      <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3944.090779104194!2d115.22696377359715!3d-8.68291718841727!
      2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2dd2410c6b7b1e07%3A0x29f4a63ed84e92d2!2sAlas%20Coffee%20%26%20Space!5e0!3m2!1sen!2sid!4v1729399114724!5m2!1sen!2sid" 
      width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
    </div>
    
    <!-- Rating -->
    <div class="mb-4">
      <h3><i class="fas fa-star"></i></i> Beri Rating</h3>
      <form id="ratingForm">
        <div class="star-rating">
          <label>
            <input type="radio" name="rating" value="1">
            <i class="fas fa-star"></i>
          </label>
          <label>
            <input type="radio" name="rating" value="2">
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
          </label>
          <label>
            <input type="radio" name="rating" value="3">
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
          </label>
          <label>
            <input type="radio" name="rating" value="4">
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
          </label>
          <label>
            <input type="radio" name="rating" value="5">
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
          </label>
        </div>
        <button type="button" class="btn btn-primary mt-2" onclick="submitRating()">Submit Rating</button>
      </form>
      <p id="currentRating" class="mt-3"></p>
    </div>
    
    <!-- Ulasan -->
    <div class="mb-4">
        <h3><i class="fa-solid fa-pen-to-square"></i> <strong>Ulasan</strong></h3>
    </div>
      <div class="review d-flex mb-3">
        <img src="./assets/img/Coffee shop.jpeg" alt="User 1" class="rounded me-3" width="50">
        <div class="review-text">
          <p><strong>Budi:</strong> "Tempatnya nyaman dan kopinya enak!"</p>
        </div>
      </div>
      <div class="review d-flex">
        <img src="./assets/img/Coffee shop.jpeg" alt="User 2" class="rounded me-3" width="50">
        <div class="review-text">
          <p><strong>Siti:</strong> "Pelayanannya cepat dan tempatnya cozy buat nongkrong."</p>
        </div>
      </div>
    </div>

    <div class="d-flex justify-content-between mb-4">
      <button id="favorite-btn" class="btn btn-success" onclick="addToFavorites()">Tambah ke Favorit</button>
      <a href="booking_form.html?nama=Alas Coffee and Space" class="btn btn-primary">Booking Now</a>
      <button class="btn btn-secondary" onclick="history.back()">Previous</button>
    </div>
  </div>

  <script>
    let totalRatings = 0;
    let numberOfRatings = 0;

    function submitRating() {
      const ratingForm = document.getElementById('ratingForm');
      const rating = ratingForm.rating.value;

    if (rating) {
        // Convert rating to an integer and update totals
        totalRatings += parseInt(rating);
        numberOfRatings++;

        // Calculate average rating
        const averageRating = (totalRatings / numberOfRatings).toFixed(1);

        // Update displayed average rating
        document.getElementById('currentRating').textContent = `Rata-rata rating: ${averageRating}/5 (${numberOfRatings} ulasan)`;

        // Save the current rating to local storage
        saveRating(averageRating, numberOfRatings);
    } else {
        alert('Silakan pilih rating sebelum mengirim.');
    }
}

    function saveRating(averageRating, count) {
        localStorage.setItem('averageRating', averageRating);
        localStorage.setItem('numberOfRatings', count);
    }

    // Function to load existing ratings from local storage
    function loadRatings() {
        const averageRating = localStorage.getItem('averageRating');
        const count = localStorage.getItem('numberOfRatings');

        if (averageRating && count) {
            totalRatings = averageRating * count; // Calculate total from average and count
            numberOfRatings = count;
            document.getElementById('currentRating').textContent = `Rata-rata rating: ${averageRating}/5 (${count} ulasan)`;
        }
    }

    // Load ratings when the page loads
    window.onload = loadRatings;

    function cekJamOperasional() {
      const sekarang = new Date();
      const jamSekarang = sekarang.getHours();
      
      // Tentukan jam buka dan jam tutup (24 jam format)
      const jamBuka = 17;  // Buka jam 08:00
      const jamTutup = 5; // Tutup jam 21:00

      const pesanOperasional = document.getElementById('pesanOperasional');
      
      if (jamSekarang >= jamBuka && jamSekarang < jamTutup) {
        pesanOperasional.textContent = "Kedai kopi sedang BUKA";
        pesanOperasional.classList.add('text-success');
      } else {
        pesanOperasional.textContent = "Kedai kopi sedang TUTUP";
        pesanOperasional.classList.add('text-danger');
      }
    }

    // Panggil fungsi saat halaman selesai dimuat
    window.onload = cekJamOperasional;

  </script>


  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/js/all.min.js"></script>
</body>
</html>
